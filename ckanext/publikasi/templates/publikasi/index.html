{% extends 'page.html' %}

{% block subtitle %}Publikasi{% endblock %}

{% block breadcrumb_content %}
    {{ super() }}
    <li>{% link_for _('Publikasi'), named_route='publikasi.index' %}</li>
{% endblock %}

{% block page_header %}{% endblock %}

{% block page_primary_action %}
    {% if h.check_access('publikasi_create') %}
        {% link_for _('Add Publikasi'), named_route='publikasi'+'.create', class_='btn btn-primary', icon='plus-square' %}
    {% endif %}
{% endblock %}

{% block primary_content_inner %}
    
    {% set sorting = [
        (_('Paling Lama ke Terbaru'), 'meta_release_date desc'),
        (_('Terbaru ke Paling Lama'), 'meta_release_date asc'),
        (_('A-Z (menaik)'), 'title asc'),
        (_('A-Z (menurun)'), 'title desc') ]
    %}
    {% snippet 'snippets/search_form.html', type='Publication', query=q, sorting_selected=sort_by_selected, placeholder='Cari Publikasi', count=response['page'].item_count, sorting=sorting %}

    {% if response['data'] %}
        {{ h.snippet('publikasi/snippets/publikasi_list.html', data=response['data']) }}
    {% else %}
        <p><i>Belum ada dokumen publikasi</i></p>
    {% endif %}

    {% block page_pagination %}
        {{ response['page'].pager(q=q) }}
    {% endblock %}

{% endblock %}

{% block secondary_content %}
    {% snippet 'publikasi/snippets/helper.html' %}
{% endblock %}